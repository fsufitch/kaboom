syntax = "proto3";

package kaboomproto;

option go_package = "github.com/fsufitch/kaboom/proto/go;kaboomproto";

import "piece.proto";
import "pawn.proto";

message GameState {
    repeated BoardState boards = 1;    
}

message BoardState {
    Player white_player = 1;
    Player black_player = 2;
    ChessBoard board = 3;

    repeated KaboomMove move_history = 4;
    // Current turn, turn count, etc can be implied from the move history
}

message Player {
    string uuid = 1;
    string name = 2;

    repeated string board_uuid = 3;   
}

message ChessBoard {
    string uuid = 1;
    string name = 2;
    repeated ChessPiece pieces = 3;
}


message KaboomMove {
    oneof move {
        PawnMove pawn_move = 1;
        PawnBump pawn_bump = 2;
        PawnKaboom pawn_kaboom = 3;

        // Future moves for other piece types can be added here

    }
}
